<?xml version="1.0" encoding="UTF-8"?>
<page-structure>
  <metadata>
    <name>Survey Page</name>
    <route>/survey/:ritualId</route>
    <component>SurveyView.vue</component>
    <description>Public survey interface for friends to provide anonymous feedback</description>
  </metadata>

  <design-principles>
    <principle source="kickofflabs.com">
      <name>Color Palette Limitation</name>
      <compliance>Yes</compliance>
      <details>Uses 1-2 colors: indigo for selected options and primary actions</details>
    </principle>
    <principle source="kickofflabs.com">
      <name>Single Font Family</name>
      <compliance>Yes</compliance>
      <details>Uses Inter font family throughout</details>
    </principle>
    <principle source="kickofflabs.com">
      <name>4px Grid System</name>
      <compliance>Yes</compliance>
      <details>All spacing uses 4px increments</details>
    </principle>
  </design-principles>

  <color-palette>
    <primary-cta>
      <color>indigo-500 to purple-600 gradient</color>
      <usage>Next/Submit button</usage>
    </primary-cta>
    <selected-option>
      <color>border-indigo-500</color>
      <usage>Selected answer option border</usage>
    </selected-option>
    <unselected-option>
      <color>border-gray-700</color>
      <usage>Unselected answer option border</usage>
    </unselected-option>
    <background>
      <color>akashic gradient</color>
      <usage>Page background</usage>
    </background>
  </color-palette>

  <typography>
    <font-family>Inter, system-ui, sans-serif</font-family>
    <variations>
      <variation>
        <name>Page Title</name>
        <weight>bold (700)</weight>
        <size>text-3xl (30px)</size>
        <effect>text-gradient</effect>
      </variation>
      <variation>
        <name>Question</name>
        <weight>bold (700)</weight>
        <size>text-2xl (24px)</size>
      </variation>
      <variation>
        <name>Option Text</name>
        <weight>medium (500)</weight>
        <size>text-base (16px)</size>
      </variation>
    </variations>
  </typography>

  <spacing-system>
    <base-unit>4px</base-unit>
    <usage>
      <spacing>space-y-8 (32px) between major sections</spacing>
      <spacing>mb-6 (24px) after question</spacing>
      <spacing>gap-4 (16px) between options</spacing>
      <spacing>mt-6 (24px) before navigation buttons</spacing>
    </usage>
  </spacing-system>

  <layout-structure>
    <container type="page">
      <max-width>max-w-2xl</max-width>
      <spacing>space-y-8</spacing>
      
      <header-card>
        <type>card</type>
        <alignment>text-center</alignment>
        <title>The Ritual</title>
        <size>text-3xl</size>
        <effect>text-gradient</effect>
        <spacing-bottom>mb-2</spacing-bottom>
        <description>You are contributing a perception for {creatorName}'s summoning ritual.</description>
        <color>text-secondary</color>
        <highlight>Complete the ritual to see the result!</highlight>
        <color>text-indigo-400</color>
        <weight>font-medium</weight>
        <spacing-top>mt-2</spacing-top>
      </header-card>
      
      <question-card>
        <type>card</type>
        <progress>
          <text>Question {currentQuestionIndex + 1} of {questions.length}</text>
          <size>text-sm</size>
          <color>text-secondary</color>
          <spacing-bottom>mb-2</spacing-bottom>
        </progress>
        
        <question>
          <text>{currentQuestion.text}</text>
          <size>text-2xl</size>
          <weight>bold</weight>
          <spacing-bottom>mb-6</spacing-bottom>
        </question>
        
        <options>
          <layout>grid md:grid-cols-2</layout>
          <gap>gap-4</gap>
          
          <option-card>
            <type>card</type>
            <interaction>cursor-pointer hover:scale-105</interaction>
            <border>border-2</border>
            <border-color>border-indigo-500 if selected, border-gray-700 if not</border-color>
            <transition>transition-transform</transition>
            
            <image conditional="option.imageUrl">
              <src>{option.imageUrl}</src>
              <alt>{option.text}</alt>
              <class>w-full h-32 object-cover rounded-lg mb-3</class>
            </image>
            
            <text>{option.text}</text>
            <weight>font-medium</weight>
            <alignment>text-center</alignment>
          </option-card>
        </options>
        
        <navigation>
          <spacing-top>mt-6</spacing-top>
          <layout>flex justify-between</layout>
          <button type="ghost" text="Previous" disabled="currentQuestionIndex === 0" />
          <button type="primary" text="Next/Submit" disabled="!selectedAnswer" />
        </navigation>
      </question-card>
    </container>
  </layout-structure>

  <components>
    <component name="Button" usage="Navigation and submission">
      <variants>primary, ghost</variants>
      <states>disabled</states>
    </component>
    <component name="LoadingSpinner" usage="Loading state">
      <size>lg</size>
      <text>Loading survey...</text>
    </component>
  </components>

  <states>
    <state type="loading">
      <display>LoadingSpinner centered</display>
    </state>
    <state type="error">
      <display>Error card with message</display>
      <background>bg-red-900 bg-opacity-20</background>
      <border>border-red-500</border>
    </state>
    <state type="ready">
      <display>Survey question interface</display>
    </state>
  </states>

  <interactions>
    <option-selection>Click on option card to select answer</option-selection>
    <navigation>Previous button disabled on first question</navigation>
    <navigation>Next button disabled until answer selected</navigation>
    <submission>Submit button appears on last question</submission>
  </interactions>

  <accessibility>
    <aria-labels>Option cards have click handlers</aria-labels>
    <keyboard-navigation>Buttons have proper disabled states</keyboard-navigation>
    <image-alt>All option images have alt text</image-alt>
  </accessibility>

  <responsive-design>
    <breakpoints>
      <mobile>Default</mobile>
      <tablet>md: (768px+)</tablet>
    </breakpoints>
    <adaptations>
      <adaptation>Options grid: single column on mobile, two columns on desktop</adaptation>
      <adaptation>Navigation buttons: stack on mobile, side-by-side on desktop</adaptation>
    </adaptations>
  </responsive-design>
</page-structure>

