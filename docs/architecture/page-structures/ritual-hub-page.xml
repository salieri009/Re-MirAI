<?xml version="1.0" encoding="UTF-8"?>
<page-structure>
  <metadata>
    <name>Ritual Hub Page</name>
    <route>/ritual</route>
    <component>RitualHubView.vue</component>
    <description>Create and manage survey rituals for persona summoning</description>
  </metadata>

  <design-principles>
    <principle source="kickofflabs.com">
      <name>Color Palette Limitation</name>
      <compliance>Yes</compliance>
      <details>Uses 1-2 colors: indigo/purple gradient for primary actions, minimal color usage</details>
    </principle>
    <principle source="kickofflabs.com">
      <name>Single Font Family</name>
      <compliance>Yes</compliance>
      <details>Uses Inter font family throughout</details>
    </principle>
    <principle source="kickofflabs.com">
      <name>4px Grid System</name>
      <compliance>Yes</compliance>
      <details>All spacing uses 4px increments via CSS variables</details>
    </principle>
  </design-principles>

  <color-palette>
    <primary-cta>
      <color>indigo-500 to purple-600 gradient</color>
      <usage>Primary action buttons (Prepare the Vessel, Begin Summoning)</usage>
    </primary-cta>
    <secondary-cta>
      <color>purple/accent color</color>
      <usage>Secondary actions (Practice Summon)</usage>
    </secondary-cta>
    <background>
      <color>akashic gradient</color>
      <usage>Page background</usage>
    </background>
  </color-palette>

  <typography>
    <font-family>Inter, system-ui, sans-serif</font-family>
    <variations>
      <variation>
        <name>Page Title</name>
        <weight>bold (700)</weight>
        <size>text-3xl (30px)</size>
        <effect>text-gradient</effect>
      </variation>
      <variation>
        <name>Section Headings</name>
        <weight>bold (700)</weight>
        <size>text-2xl (24px)</size>
      </variation>
    </variations>
  </typography>

  <spacing-system>
    <base-unit>4px</base-unit>
    <tokens>
      <token name="--card-padding" value="24px" multiplier="6" />
      <token name="--element-spacing" value="16px" multiplier="4" />
    </tokens>
    <usage>
      <spacing>space-y-8 (32px) between major sections</spacing>
      <spacing>space-y-6 (24px) within cards</spacing>
      <spacing>space-y-4 (16px) between form elements</spacing>
    </usage>
  </spacing-system>

  <layout-structure>
    <container type="page">
      <spacing>space-y-8</spacing>
      
      <header>
        <title>The Ritual</title>
        <size>text-3xl</size>
        <effect>text-gradient</effect>
        <description>The vessel for your summoning</description>
        <spacing-bottom>mt-2 (8px)</spacing-bottom>
      </header>
      
      <content>
        <state type="empty">
          <card>
            <alignment>text-center</alignment>
            <spacing>space-y-6</spacing>
            <message>Your vessel is empty. Let's begin the summoning ritual.</message>
            <button type="primary" size="lg" text="Prepare the Vessel" />
          </card>
        </state>
        
        <state type="active">
          <spacing>space-y-6</spacing>
          
          <card id="ritual-progress">
            <title>Ritual in Progress</title>
            <size>text-2xl</size>
            <spacing-bottom>mb-4 (16px)</spacing-bottom>
            
            <progress-section>
              <spacing>space-y-4</spacing>
              
              <progress-header>
                <label>Crystals Gathered</label>
                <count>{responsesCount} / {minimumResponses}</count>
              </progress-header>
              
              <progress-bar>
                <background>progress-bg (slate-700)</background>
                <fill>progress-mystical (gradient)</fill>
                <height>h-4 (16px)</height>
                <width>Dynamic percentage</width>
              </progress-bar>
            </progress-section>
            
            <invitation-section>
              <spacing-top>mt-6 (24px)</spacing-top>
              <label>Invitation Link</label>
              <layout>flex gap-2</layout>
              <input type="readonly" value="{invitationUrl}" />
              <component>ShareButton</component>
            </invitation-section>
            
            <action-section>
              <spacing-top>mt-6</spacing-top>
              <button type="primary" size="lg" text="Begin Summoning" conditional="canSummon" />
              <button type="primary" size="lg" disabled conditional="!canSummon" />
            </action-section>
          </card>
          
          <card id="practice-summon">
            <title>Impatient? Perform a Practice Summon</title>
            <size>text-2xl</size>
            <spacing-bottom>mb-4</spacing-bottom>
            <description>Complete a short self-reflection survey to get a low-rarity Proto-Persona</description>
            <spacing-bottom>mb-6</spacing-bottom>
            <button type="secondary" text="Start Practice Summon" />
          </card>
        </state>
      </content>
    </container>
  </layout-structure>

  <components>
    <component name="Button" usage="Primary and secondary actions">
      <variants>primary, secondary</variants>
      <sizes>lg</sizes>
      <states>loading, disabled</states>
    </component>
    <component name="ShareButton" usage="Copy/share ritual link">
      <icon>Copy icon</icon>
    </component>
  </components>

  <accessibility>
    <aria-labels>Buttons have descriptive labels</aria-labels>
    <loading-states>Loading state on button when creating ritual</loading-states>
  </accessibility>

  <responsive-design>
    <breakpoints>
      <mobile>Default</mobile>
      <tablet>md: (768px+)</tablet>
    </breakpoints>
    <adaptations>
      <adaptation>Input and button: stack on mobile, side-by-side on desktop</adaptation>
    </adaptations>
  </responsive-design>
</page-structure>

